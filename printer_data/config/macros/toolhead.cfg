[gcode_macro _PARK_TOOLHEAD]
description: Move toolhead to a parking position in parking_positions
gcode:
  {% set pos_id = params.POS | default('park') %}

  {% set vars = printer["gcode_macro _USER_VARIABLES"] %}
  {% set positions = vars.parking_positions %}

  {% if pos_id in positions %}
    {% set pos = positions[pos_id] %}

    G90 ; absolute
    G1 X{pos.x} Y{pos.y} Z{pos.z} F1200
  {% else %}
    RESPOND TYPE=error MSG="Unknown position: {pos_id}"
  {% endif %}